# å®¶æ—æ ‘ SaaS ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Spring Boot + Vue 3 çš„äº²æˆšå…³ç³»ç®¡ç† SaaS ç³»ç»Ÿï¼Œæ”¯æŒå¤šå®¶æ—ç®¡ç†ã€å®¶è°±å›¾è°±å¯è§†åŒ–ã€åä½œç¼–è¾‘ç­‰åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ

### åç«¯
- **Spring Boot 3.2+** - æ ¸å¿ƒæ¡†æ¶
- **PostgreSQL 15+** - ä¸»æ•°æ®åº“
- **Redis 7+** - ç¼“å­˜ä¸ä¼šè¯
- **MinIO** - å¯¹è±¡å­˜å‚¨ï¼ˆå›¾ç‰‡ï¼‰
- **JWT** - èº«ä»½è®¤è¯

### å‰ç«¯
- **Vue 3** - å‰ç«¯æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Vant 4** - ç§»åŠ¨ç«¯ UI ç»„ä»¶åº“
- **Pinia** - çŠ¶æ€ç®¡ç†
- **Vis-Network** - å®¶è°±å›¾æ¸²æŸ“
- **PWA** - ç¦»çº¿æ”¯æŒ

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ“± ç§»åŠ¨ç«¯ä¼˜å…ˆè®¾è®¡ï¼Œæ”¯æŒ PWA
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å¤šå®¶æ—ç®¡ç†
- ğŸŒ³ å®¶è°±å›¾è°±å¯è§†åŒ–ï¼ˆCanvas æ¸²æŸ“ï¼‰
- âœï¸ åä½œç¼–è¾‘å·¥ä½œåŒº
- ğŸ”„ å˜æ›´å®¡æ ¸ä¸åˆå¹¶
- ğŸ” äººç‰©æœç´¢
- ğŸ“· ç…§ç‰‡å¢™

### æŠ€æœ¯ç‰¹æ€§
- ç®€åŒ– CQRS æ¶æ„
- ä¹è§‚é”ç‰ˆæœ¬æ§åˆ¶
- ç¦»çº¿ç¼–è¾‘æ”¯æŒ
- å†²çªæ£€æµ‹ä¸è§£å†³
- å“åº”å¼è®¾è®¡

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Docker & Docker Compose
- Node.js 18+ (å‰ç«¯å¼€å‘)
- Java 21+ (åç«¯å¼€å‘)

### ä½¿ç”¨ Docker Compose å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd family-tree-saas

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f app
```

æœåŠ¡å¯åŠ¨åè®¿é—®ï¼š
- å‰ç«¯: http://localhost
- åç«¯ API: http://localhost:8080
- API æ–‡æ¡£: http://localhost:8080/swagger-ui.html
- MinIO æ§åˆ¶å°: http://localhost:9001

### æœ¬åœ°å¼€å‘

#### åç«¯å¼€å‘

```bash
cd backend

# ä½¿ç”¨ Maven è¿è¡Œ
mvn spring-boot:run

# æˆ–è€…ä½¿ç”¨ IDE è¿è¡Œ FamilyTreeApplication
```

#### å‰ç«¯å¼€å‘

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

## é¡¹ç›®ç»“æ„

```
family-tree-saas/
â”œâ”€â”€ backend/                    # Spring Boot åç«¯
â”‚   â”œâ”€â”€ src/main/java/com/familytree/
â”‚   â”‚   â”œâ”€â”€ domain/            # é¢†åŸŸæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ application/       # åº”ç”¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ infrastructure/    # åŸºç¡€è®¾æ–½
â”‚   â”‚   â””â”€â”€ interfaces/        # æ¥å£å±‚
â”‚   â””â”€â”€ src/main/resources/
â”‚       â””â”€â”€ schema.sql         # æ•°æ®åº“ Schema
â”œâ”€â”€ frontend/                   # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/       # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/           # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ api/              # API å°è£…
â”‚   â””â”€â”€ package.json
â””â”€â”€ docker-compose.yml        # Docker Compose é…ç½®
```

## æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨
- `users` - ç”¨æˆ·è¡¨
- `groups` - å®¶æ—ç¾¤ç»„è¡¨
- `group_members` - ç¾¤ç»„æˆå‘˜è¡¨
- `persons` - äººç‰©è¡¨
- `relationships` - å…³ç³»è¾¹è¡¨
- `workspaces` - å·¥ä½œåŒºè¡¨
- `changesets` - å˜æ›´é›†è¡¨
- `merge_requests` - åˆå¹¶è¯·æ±‚è¡¨
- `photos` - ç…§ç‰‡è¡¨

## API æ–‡æ¡£

å¯åŠ¨åç«¯æœåŠ¡åï¼Œè®¿é—® Swagger UI æŸ¥çœ‹å®Œæ•´ API æ–‡æ¡£ï¼š
http://localhost:8080/swagger-ui.html

## æ ¸å¿ƒæ¦‚å¿µ

### å·¥ä½œåŒº (Workspace)
æ¯ä¸ªç”¨æˆ·åœ¨å®¶æ—ä¸­æ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œåŒºï¼Œç”¨äºç¼–è¾‘å®¶è°±ã€‚å·¥ä½œåŒºå†…çš„å˜æ›´ä¸ä¼šç›´æ¥å½±å“ä¸»å®¶è°±ï¼Œéœ€è¦æäº¤åˆå¹¶è¯·æ±‚å¹¶ç»è¿‡å®¡æ ¸åæ‰èƒ½åˆå¹¶ã€‚

### å˜æ›´é›† (ChangeSet)
è®°å½•å·¥ä½œåŒºå†…çš„æ‰€æœ‰å˜æ›´æ“ä½œï¼ˆå¢åˆ æ”¹ï¼‰ï¼Œæ”¯æŒå˜æ›´çš„å›æ»šå’Œå¯¹æ¯”ã€‚

### åˆå¹¶è¯·æ±‚ (MergeRequest)
ç”¨æˆ·æäº¤å·¥ä½œåŒºå˜æ›´è¿›è¡Œå®¡æ ¸çš„è¯·æ±‚ï¼Œç®¡ç†å‘˜å¯ä»¥æ‰¹å‡†æˆ–æ‹’ç»ã€‚

## éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. ä¿®æ”¹ç¯å¢ƒå˜é‡é…ç½®
2. æ›´æ–° `docker-compose.yml` ä¸­çš„é•œåƒåœ°å€
3. é…ç½®åå‘ä»£ç†ï¼ˆNginxï¼‰
4. é…ç½® SSL è¯ä¹¦

```bash
# ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestã€‚

## è®¸å¯è¯

MIT License
